## Ingress/Controller

Ingress - это манифест
![16.2 Ingress.png](img/16.2%20Ingress.png)

IngressController - это программа, например nginx
![16.1 Ingress.png](img/16.1%20Ingress.png)

Nginx имеет свой конфиг, в котором можно его конфигурить. Но это неудобно, постоянно лазить туда руками 
и что-то там править. Поэтому мы при помощи нашего ingress можем настроить ingress-контроллер - какие запросы 
с какого домена на какие приложения нужно будет отправлять

Расммотрим конфиг
![16.2 Ingress.png](img/16.2%20Ingress.png)

1. host - это хост, который будет обслуживать ingress
2. pathType - тип пути, который мы будем использовать Prefix. Например api/v1 значит берем все, что начиаентся с api/v1*
3. service.name - !!! Все запросы, которые будут идти в foo.myDomain.com/ будут адресоваться в поды, которые 
    стоят за сервисом my-service. На самом деле, ingress-контроллер один раз сходит в my-service, получит поды, которые сервис 
    обслуживает и потом будет слать им запросы напрямую.

В рамках одного ингресса можно задавать несколько хочтов, в рамках хоста можно задавать несколько 
путей. Ингресс может быть вообще без хочта и тогде все запросы внеадресные будут идти в него.

В этом манифесте есть еще раздел annotations. Манифест ингресса очень строгий и мы не можем в него 
написать каких-то левых полей. А для конфигурации nginx нам надо. Для этого можно заюзать annotations. Для всех 
возмодных вариантов допНастроек нужно смотреть доку по кубу. 
В данном случае kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations


### HTTPS 
![16.3 Ingress.png](img/16.3%20Ingress.png)

Если у нас свой серт, то мы создаем секрет с сертом и указываем этот секрет и ingress


